import React,{useState} from 'react'; import api from '../api'; import { useNavigate } from 'react-router-dom';
export default function Login(){ const [email,setEmail]=useState(''); const [password,setPassword]=useState(''); const [error,setError]=useState(''); const navigate=useNavigate();
  const submit=async(e)=>{ e.preventDefault(); try{ await api.post('/api/auth/login',{email,password}); navigate('/dashboard'); }catch(e){ setError(e?.response?.data?.error||'Erreur'); } };
  return (<div className="max-w-md mx-auto"><h2 className="text-3xl font-black mb-4">Connexion</h2><form onSubmit={submit} className="bg-white rounded-3xl p-6 shadow space-y-3"><input className="w-full border rounded-xl p-2" placeholder="Email" value={email} onChange={e=>setEmail(e.target.value)}/><input className="w-full border rounded-xl p-2" placeholder="Mot de passe" type="password" value={password} onChange={e=>setPassword(e.target.value)}/>{error && <div className="text-sm text-red-600">{error}</div>}<button className="w-full bg-indigo-600 text-white rounded-xl py-2.5 font-semibold">Se connecter</button></form></div>) }